<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/lib/stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/lib/stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/lib/stylesheets/print.css" media="print">
    <link rel="stylesheet" type="text/css" href="/lib/highlight/styles/solarized-light.css">
    <link rel="stylesheet" type="text/css" href="/lib/highlight/styles/highlight-num.css">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>浏览器重排和重绘（reflow &amp; repaint）</title>
  </head>
  <body>
    <header>
      <div class="inner">
        <a href="http://gaomin.github.io">
            <h1>浏览器重排和重绘（reflow &amp; repaint）
            </h1>
        </a>
        <h2>2016-01-04</h2>
        <a href="https://github.com/gaomin" class="button"><small>Follow me on</small> GitHub</a>
      </div>
    </header>
    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">

    

    <body>
　　　　<h2 id="section">浏览器的重排与重绘</h2>
<ul>
  <li>
    <p>浏览器的解析过程
（以下部分来自handawei－javaeye的blog）</p>

    <p>Web页面运行在各种各样的浏览器当中，浏览器载入、渲染页面的速度直接影响着用户体验
简单地说，页面渲染就是浏览器将html代码根据CSS定义的规则显示在浏览器窗口中的这个过程。先来大致了解一下浏览器都是怎么干活的：</p>

    <ol>
      <li>用户输入网址（假设是个html页面，并且是第一次访问），浏览器向服务器发出请求，服务器返回html文件；</li>
      <li>浏览器开始载入html代码，发现&lt;head&gt;标签内有一个<link />标签引用外部CSS文件；</li>
      <li>浏览器又发出CSS文件的请求，服务器返回这个CSS文件；</li>
      <li>浏览器继续载入html中&lt;body&gt;部分的代码，并且CSS文件已经拿到手了，可以开始渲染页面了；</li>
      <li>浏览器在代码中发现一个<img />标签引用了一张图片，向服务器发出请求。此时浏览器不会等到图片下载完，而是继续渲染后面的代码；</li>
      <li>服务器返回图片文件，由于图片占用了一定面积，影响了后面段落的排布，因此浏览器需要回过头来重新渲染这部分代码；</li>
      <li>浏览器发现了一个包含一行Javascript代码的<script>标签，赶快运行它；</script></li>
      <li>Javascript脚本执行了这条语句，它命令浏览器隐藏掉代码中的某个&lt;div&gt; （style.display=”none”）。杯具啊，突然就少了这么一个元素，浏览器不得不重新渲染这部分代码；</li>
      <li>终于等到了&lt;/html&gt;的到来，浏览器泪流满面……</li>
      <li>等等，还没完，用户点了一下界面中的“换肤”按钮，Javascript让浏览器换了一下<link />标签的CSS路径；</li>
      <li>浏览器召集了在座的各位&lt;div&gt;<span>&lt;ul&gt;&lt;li&gt;们，“大伙儿收拾收拾行李，咱得重新来过……”，浏览器向服务器请
求了新的CSS文件，重新渲染页面。</span></li>
    </ol>
  </li>
  <li>
    <p>重排 reflow</p>
  </li>
</ul>

<p>当浏览器中DOM结构或布局改变时，会引发浏览器的重绘，比如页面上某些元素的占位面积、定位方式、边距等属性的变化，都会引起它内部、周围甚至整个页面的重新渲染</p>

<p><img src="/lib/blog-imgs/20160104-reflow.jpg" alt="reflow" /></p>

<ul>
  <li>重绘 repaint</li>
</ul>

<p>当页面中元素改变，但没有影响其布局，定位（即不影响页面DOM结构）时，会引发浏览器重绘，比如改变某个元素的背景色、文字颜色、边框颜色等等不影响它周围或内部布局的属性</p>

<p><img src="/lib/blog-imgs/20160104-repaint.jpg" alt="repaint" /></p>

<hr />

        <!-- UY BEGIN -->
        <div id="uyan_frame"></div>
        <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2079507"></script>
        <!-- UY END -->
    </body>
</section>

        <aside id="sidebar">
    <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
</aside>
      </div>
    </div>
  <script type="text/javascript" src="/lib/javascripts/jquery-1.11.3.js"></script>
  <script type="text/javascript" src="/lib/javascripts/main.js"></script>
  <script type="text/javascript" src="/lib/highlight/highlight.pack.js"></script>
  <!--<script type="text/javascript" src="/lib/highlight/highlight-num.js"></script>-->
  <script type="text/javascript">
      hljs.initHighlightingOnLoad();
  </script>
  </body>
</html>
　
